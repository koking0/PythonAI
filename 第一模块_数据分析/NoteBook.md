# 金融与量化分析

## 金融与股票基本知识

什么是金融？

金融：就是对现有资源进行重新整合之后，实现价值和利润的等效流通。

金融工具：在金融市场中可交易的金融资产。

	股票，期货，黄金，外汇，基金等。

### 股票

股票是股份公司发给出资人的一种凭证，股票的持有者就是股份公司的股东。

---

股票的作用

1.出资证明、证明股东身份、对公司经营发表意见

2.公司分红、交易获利

---

上市/IPO：企业通过证券交易所公开向社会增发股票以募集资金。

#### 股票的分类

按业绩分类：

	蓝筹股：资本雄厚、信誉优良的公司的股票

	绩优股：业绩优良公司的股票

	ST股：特别处理股票，连续两年亏损或每股资产低于股票面值

按上市地区分类：

	A股：中国大陆上市，人民币认购买卖

	B股：中国大陆上市，外币认购买卖

	H股：中国香港上市

	N股：美国纽约上市

	S股：新加坡上市

### 股票市场的构成

上市公司

投资者（包括机构投资者）

证监会、证券业协会、交易所

证券中介机构

交易所

	上海证券交易所

	深圳证券交易所
	
		主板：大型成熟企业（深成指）
		
		中小板：经营规模较小

		创业板：尚处于成长期的创业企业

### 影响股价的因素

公司自身原因

行业因素

市场因素

心理因素

经济因素

政治因素

### 股票买卖（A股）

委托买卖股票

	个人不能直接买卖，需要在券商开户，进行委托购买

股票交易日

	周一到周五（非法定节假日和交易所休市日）

股票交易时间

	9：15-9：25	开盘集合竞价时间

	9：30-11：30	前市、连续竞价时间

	13：00-15：00	后市、连续竞价时间

	14：57-15：00	深交所收盘集合竞价时间

T+1交易制度：股票买入后当天不能卖出，要在买入后的下一个交易日才能卖出

涨停、跌停限制

## 金融分析

### 基本面分析

	宏观经济面分析：国家的财政政策、货币政策等

	行业分析

	公司分析：财务数据、业绩报告等

### 技术面分析：各项技术指标

K线

![](/media/alex/新加卷/PythonProject/PythonAI/第一模块_数据分析/images/K线)

MA（均线）

KDJ（随机指标）

MACD（指数平滑移动平均线）

……

## 金融量化投资

### 量化投资

利用计算机技术并且采用一定的数学模型去实践投资理念，实现投资策略的过程。

### 量化投资的优势

1.避免主观情绪、人性弱点和认知偏差，选择更加客观

2.能同时包括多角度的观察和多层次的模型

3.及时跟踪市场变化，不断发现新的统计模型，寻找交易机会

4.在决定投资策略后，能通过回测验证其效果

### 量化策略

量化策略：通过一套固定的逻辑来分析、判断和决策，自动化地进行股票交易。

#### 策略的周期

1.产生想法/学习知识

2.实现策略：Python

3.检验策略：回测/模拟交易

4.实盘交易

5.优化策略/放弃策略

# python数据处理相关模块

量化投资实际上就是分析数据从而作出决策的过程。

Numpy：数组批量计算

Pandas：灵活的表计算

Matplotlib：数据可视化

# 如何使用python进行量化投资

自己编写：numpy+pandas+matplotlb+……

在线平台：聚宽、优矿、米筐、Quantopian、……

开源框架：RQAlpha、QUANTAXIS、……

# IPython魔术命令

以%开始的命令

%run:执行文件代码

%paste:执行粘贴板代码

%timeit:评估运行时间

%pdb:自动调试

# Numpy

Numpy是高性能科学计算和数据分析的基础包。

它是pandas等其它各种工具的基础。

Numpy的主要功能：

    1.ndarray，一个多维数组结构，高效且节省时间
    
    2.无需循环对整个数组数据进行快速运算的数学函数
    
    3.线性代数、随机数生成和傅立叶变换功能

---

创建ndarray：np.array(array_like)

数组与列表的区别：
    
    数组对象内的元素类型必须相同
    
    数组大小不可修改
    
## ndarray-数据类型

布尔型：bool_

整形：int_ int8 int16 int 32 int64

无符号整形：uint8 uint16 uint32 uint64

浮点型：float_ float16 float32 float64

复数型：complex_ complex64 complex128

## ndarray-常用属性

| code | attribute |
| --- | --- |
| T | 矩阵转置 |
| size | 矩阵元素的个数 |
| ndim | 矩阵的维数 |
| shape | 矩阵的维度大小（元组形式） |
| dtype | 矩阵元素的数据类型 | 

## ndarray-创建

| code | function |
| --- | --- |
| array() | 将列表转换为矩阵，可选择显式指定dtype |
| arange() | range的numpy版，支持浮点数 |
| linespace() | 类似arange()，第三个参数为矩阵长度 |
| zeros() | 根据指定形状和dtype创建全0矩阵 |
| ones() | 根据指定形状和dtype创建全1矩阵 |
| empty() | 根据指定形状和dtype创建空矩阵（随机值） |
| eyes() | 根据指定形状和dtype创建单位矩阵 |

## ndarray-切片

一维矩阵的切片：matrix[start:end]  

多维矩阵的切片：matrix[row_start:row_end, col_start:col_end]

矩阵切片与列表切片的不同：矩阵切片时并不会自动复制，而是创建一个视图，在切片矩阵上的修改会影响原矩阵。

copy()方法可以创建矩阵的深拷贝

## ndarray-花式索引


## ndarray-通用函数

通用函数：能同时对数组中所有元素进行运算的函数

常见通用函数：

    一元函数:abs, sqrt, exp, log, ceil, floor, rint, trunc, modf, isnan, isinf, cos, sin, tan
    
    二元函数:add, substract, multiply, divide, power, mod, maximum, mininum

四舍五入:round

## 浮点数特殊值

nan(Not a Number):不等于任何浮点数（nan != nan）

inf(infinity):比任何浮点数都大

Numpy中创建特殊值：np.nan    np.inf

在数据分析中，nan常被用作表示数据缺失值

## NumPy-数学和统计方法

sum:求和

mean:求平均值

std:求标准差

var:求方差

min:求最小值

max:求最大值

argmin:求最小值索引

argmax:求最大值索引

## NumPy-随机数生成

随机数函数在np.random子包内

| 函数 | 功能 |
| --- | --- |
| rand | 给定形状产生随机矩阵（0到1之间的数） |
| randint | 给定形状产生随机整数 |
| choice | 给定形状产生随机选择 |
| shuffle | 与random.shuffle相同 |
| uniform | 给定形状产生随机矩阵 |

